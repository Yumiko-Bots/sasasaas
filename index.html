<!DOCTYPE html>
<html>
<head>
  <title>Telegram Login Widget Example</title>
  <style>
    /* CSS styles */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }
    .user-details {
      margin-top: 20px;
    }
    .navbar {
      background-color: #f1f1f1;
      padding: 10px;
      display: flex;
      align-items: center;
    }
    .profile-pic {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      margin-right: 10px;
    }
    .profile-name {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="navbar">
    <img id="profile-pic" class="profile-pic" src="" alt="Profile Picture">
    <span id="profile-name" class="profile-name"></span>
  </div>

  <h1>Telegram Login Widget Example</h1>

  <div id="user-details" class="user-details" style="display: none;">
    <h2>Logged-in User Details:</h2>
    <p id="first-name"></p>
  </div>

  <script async src="https://telegram.org/js/telegram-widget.js?22" data-telegram-login="Yumikolimitatibot" data-size="small" data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function(event) {
      if (typeof TelegramWebLogin !== 'undefined' && TelegramWebLogin.auth) {
        onTelegramAuth(TelegramWebLogin.auth);
      }
    });

    function onTelegramAuth(user) {
      // Display user details on the web page
      document.getElementById('first-name').textContent = 'Logged in as: ' + user.first_name;

      // Update profile picture and name on the navbar
      document.getElementById('profile-pic').src = user.photo_url;
      document.getElementById('profile-name').textContent = user.first_name;

      // Alert the user details (optional)
      alert('Logged in as ' + user.first_name + ' ' + user.last_name + ' (' + user.id + (user.username ? ', @' + user.username : '') + ')');
    }
  </script>
</body>
</html>
